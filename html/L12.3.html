<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .comment {
            width: 50%;
            height: 150px;
            padding: 10px;
            outline: 0;
            border: 2px solid #1c87c9;
            background: #bccde2d1;
            line-height: 20px;

        }
    </style>
</head>
<body>
    <textarea class = "comment" id = "area" placeholder = "Напишите сообщение здесь"></textarea>
    <br>
    <button  onclick = "localStorage.removeItem('area'); area.value = '' ">Очистить</button>

    <script>
        area.value = localStorage.getItem('area');
        area.oninput = () => {
            localStorage.setItem('area', area.value);
        }

        const anwersForEverything = 42;
        console.log(typeof anwersForEverything);
        localStorage.setItem("number", anwersForEverything);
        console.log(typeof localStorage.getItem("number"));
        

        //нюансы

        let newUser = {
            userName : "Anna",
            userAge : 27,
        }
        localStorage.setItem('newUser', JSON.stringify(newUser)); // в local storage получим object Object
        console.log(localStorage.getItem('newUser'));
        console.log('Тип переменной после сохранения: ' + typeof localStorage.getItem('newUser'));

        let newVar = JSON.parse(localStorage.getItem('newUser'));
        console.log(newVar);
        newVar.userAge = 18;
        console.log(newVar);

        // получить все ключи и значения
        for(let i = 0; i < localStorage.length; i++) {
            let key = localStorage.key(i);
            console.log(`${key}: ${localStorage.getItem(key)}`);
        }

        //события
        window.addEventListener('storage', event => {
            console.log(event);
        })


    </script>
</body>
</html>